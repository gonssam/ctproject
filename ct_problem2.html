<!DOCTYPE html>
<html lang="ko">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>마법 주문 외우기 - CT 사고 과정</title>
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; }

    .container {
      max-width: 1000px;
      margin: auto;
      padding: 20px;
      box-sizing: border-box;
    }

    .tabs {
      display: flex;
      margin-bottom: 10px;
      flex-wrap: wrap;
      gap: 5px;
    }

    .tab {
      padding: 10px 20px;
      border: 1px solid #ccc;
      cursor: pointer;
      flex: 1 1 auto;
      text-align: center;
    }

    .tab.active {
      background-color: #eef;
      font-weight: bold;
    }

    .tab-content {
      display: none;
      border: 1px solid #ccc;
      padding: 20px;
      background-color: #f9f9f9;
    }

    .tab-content.active {
      display: block;
    }

    .book-row {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .book {
      width: 100px;
      height: 120px;
      border: 1px solid #666;
      background-color: #fff8e1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: bold;
      text-align: center;
      padding: 5px;
      box-sizing: border-box;
    }

    .input-box,
    .feedback {
      margin-top: 15px;
    }

    .feedback {
      font-weight: bold;
      color: #003366;
    }

    input[type="text"], select, textarea {
      width: 100%;
      padding: 6px;
      box-sizing: border-box;
      margin-top: 5px;
    }

    /* ✅ 모바일 반응형 스타일 추가 */
    @media screen and (max-width: 768px) {
      .tabs {
        flex-direction: column;
      }

      .tab {
        font-size: 14px;
        padding: 8px;
      }

      .tab-content {
        padding: 15px;
      }

      .book {
        width: 80px;
        height: 100px;
        font-size: 12px;
      }
    }
  </style>

</head>
<body>
  <div class="container">
    <h1>마법 주문 외우기 - CT 사고 과정</h1>
    <div class="tabs">
      <div class="tab active" data-tab="decompose">1. 문제 분해</div>
      <div class="tab" data-tab="abstraction">2. 추상화</div>
      <div class="tab" data-tab="pattern">3. 패턴 인식</div>
      <div class="tab" data-tab="algorithm">4. 알고리즘 적용</div>
    </div>

    <!-- 문제 분해 -->
    <div id="decompose" class="tab-content active">
      <h3>문제 분해 단계</h3>
      <p>비버 마법사는 마법 주문 책장에서 <strong>'인센디오'</strong>를 찾으려고 합니다.<br>
      책장에는 가나다 순으로 정렬된 9권의 주문책이 있고 몇 번째에 있는지 알면 주문을 외울 수 있습니다.<br>
      위 상황에서 현재 상태와 목표 상태를 작성해볼까요?</p>
      <div class="book-row">
        <div class="book">디핀도</div>
        <div class="book">리디큘러스</div>
        <div class="book">리듀시오</div>
        <div class="book">봄바르다</div>
        <div class="book">아바다케다브라</div>
        <div class="book">아센디오</div>
        <div class="book">인센디오</div>
        <div class="book">크루시오</div>
        <div class="book">파이어스톰</div>
      </div>
      <div class="input-box">
        <label>현재 상태:</label><br>
        <textarea rows="3" cols="80" placeholder="힌트: 마법사가 주문을 찾기 전, 어떤 상황인가요?"></textarea>
      </div>
      <div class="input-box">
        <label>목표 상태:</label><br>
        <textarea rows="3" cols="80" placeholder="힌트: 문제를 해결한 후, 어떤 상태가 되었나요?"></textarea>
      </div>
      <button onclick="checkDecomposeAnswer()">제출하기</button>
      <div id="decompose-feedback" class="feedback"></div>
    </div>

    <!-- 추상화 -->
    <div id="abstraction" class="tab-content">
      <h3>추상화 단계</h3>
      <p>문제 해결에 꼭 필요한 정보만 남기고 불필요한 요소를 제거해보세요.</p>
      <ul id="abstraction-list">
        <li><input type="checkbox" value="1"> 책 표지 색깔</li>
        <li><input type="checkbox" value="2"> 책 제목(주문 이름)</li>
        <li><input type="checkbox" value="3"> 마법사의 이름</li>
        <li><input type="checkbox" value="4"> 책장의 정렬 순서</li>
        <li><input type="checkbox" value="5"> 책의 개수</li>
      </ul>
      <button onclick="checkAbstractionAnswer()">제출하기</button>
      <div id="abstraction-feedback" class="feedback"></div>
    </div>

    <!-- 패턴 인식 -->
    <div id="pattern" class="tab-content">
      <h3>패턴 인식 단계</h3>
      <p>두 가지 탐색 방법의 공통점과 차이점을 찾아보세요.</p>
      <ul>
        <li><strong>방법 1:</strong> 왼쪽부터 한 권씩 확인하기 (선형 탐색)</li>
        <li><strong>방법 2:</strong> 가운데 책을 열어보고, 앞/뒤를 절반씩 좁혀가기 (이진 탐색)</li>
      </ul>
      <div class="input-box">
        <label>두 방법 중 어떤 방식이 더 빠를 수 있을까요? 이유도 함께 작성해보세요:</label><br>
        <textarea rows="3" cols="80" placeholder="힌트: 정렬되어 있다는 점을 활용할 수 있는가?"></textarea>
      </div>
      <button onclick="checkPatternAnswer()">제출하기</button>
      <div id="pattern-feedback" class="feedback"></div>
    </div>

    <!-- 알고리즘 적용 -->
    <div id="algorithm" class="tab-content">
      <h3>알고리즘 적용 단계</h3>
      <p>책장에서 '인센디오' 주문을 찾기 위해 더 효율적인 방법을 선택하세요.</p>
      <p><strong>※ 참고: 책이 짝수 개일 경우 중앙 기준은 오른쪽 책입니다.</strong></p>
      <ul>
        <li><input type="radio" name="searchAnswer" value="1"> 방법 1: 왼쪽부터 한 권씩 확인하기</li>
        <li><input type="radio" name="searchAnswer" value="2"> 방법 2: 가운데 책부터 반씩 좁혀가기</li>
      </ul>
      <div class="book-row">
        <div class="book">디핀도</div>
        <div class="book">리디큘러스</div>
        <div class="book">리듀시오</div>
        <div class="book">봄바르다</div>
        <div class="book">아바다케다브라</div>
        <div class="book">아센디오</div>
        <div class="book">인센디오</div>
        <div class="book">크루시오</div>
        <div class="book">파이어스톰</div>
      </div>
      <div class="input-box">
        <label>방법 1(선형 탐색) 시 몇 번 만에 찾을 수 있나요? (숫자 입력):</label><br>
        <input type="number" id="linearCount" min="1" max="9">
      </div>
      <div class="input-box">
        <label>방법 2(이진 탐색) 시 몇 번 만에 찾을 수 있나요? (숫자 입력):</label><br>
        <input type="number" id="binaryCount" min="1" max="9">
      </div>

      <button onclick="checkSearchAnswer()">제출하기</button>
      <div id="algorithm-feedback" class="feedback"></div>
    </div>
  </div>

  <script>
    // 탭 전환
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        const targetId = tab.getAttribute('data-tab');
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(targetId).classList.add('active');
      });
    });

    // 문제 분해 제출
    function checkDecomposeAnswer() {
      const current = document.querySelectorAll('#decompose textarea')[0].value.trim();
      const goal = document.querySelectorAll('#decompose textarea')[1].value.trim();
      const feedback = document.getElementById('decompose-feedback');
      if (current && goal) {
        feedback.textContent = '좋아요! 현재 상태와 목표 상태를 잘 정리했어요.';
      } else {
        feedback.textContent = '현재 상태와 목표 상태를 모두 작성해주세요.';
      }
    }

    // 추상화 정답
    function checkAbstractionAnswer() {
      const selected = Array.from(document.querySelectorAll('#abstraction-list input:checked')).map(cb => cb.value);
      const correct = ['1', '3'];
      const isCorrect = correct.every(val => selected.includes(val)) && selected.length === correct.length;
      document.getElementById('abstraction-feedback').textContent = isCorrect
        ? '정답입니다! 핵심 요소만 잘 골랐어요.'
        : '오답입니다. 불필요한 요소만 선택해야 합니다.';
    }

    // 패턴인식 정답
    function checkPatternAnswer() {
        const textarea = document.querySelector('#pattern textarea');
        const feedback = document.getElementById('pattern-feedback');
        if (textarea.value.trim()) {
            feedback.textContent = '좋은 생각이에요! 각 방법의 특징을 잘 비교했는지 확인해보세요.';
        } else {
            feedback.textContent = '이유를 적어주세요.';
        }
    }


    // 알고리즘 정답
   function checkSearchAnswer() {
        const selected = document.querySelector('input[name="searchAnswer"]:checked');
        const linear = document.getElementById('linearCount').value;
        const binary = document.getElementById('binaryCount').value;
        const feedback = document.getElementById('algorithm-feedback');

        if (!selected || !linear || !binary) {
            feedback.textContent = '방법 선택과 시도 횟수를 모두 입력해주세요.';
            return;
        }

        const correctMethod = selected.value === '2';
        const correctLinear = Number(linear) === 7;   // 인센디오 = 7번째
        const correctBinary = Number(binary) === 3;   // 이진 탐색 기준 3번이면 도달 가능

        if (correctMethod && correctLinear && correctBinary) {
            feedback.textContent = '정답입니다! 이진 탐색이 더 빠르며, 시도 횟수도 정확합니다. 🎯';
        } else {
            feedback.textContent = '오답입니다. 다시 한번 각 방법의 특징과 시도 횟수를 확인해보세요.';
        }
    }

  </script>
</body>
</html>
